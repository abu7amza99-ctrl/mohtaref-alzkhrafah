<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ุฒุฎุฑูุฉ ุงูุฎุทูุท ุงูุนุฑุจูุฉ</title>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Amiri&family=Cairo:wght@300;400;700&family=Reem+Kufi&family=Lateef&family=Tajawal:wght@300;400;700&family=Noto+Naskh+Arabic&family=Noto+Kufi+Arabic&family=Scheherazade+New&family=Mada&family=Markazi+Text&family=Mirza&family=Rakkas&family=Changa&family=Katibeh&family=Lalezar&family=El+Messiri&family=Harmattan&family=Jomhuria&family=Almarai&family=Thabit&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="style.css">

<!-- html2canvas -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js" defer></script>

<!-- ููู ุงูุฒุฎุฑูุฉ ุงูุฏููุงููููุฉ -->
<script src="assets/zakhrafa_dynamic.js" defer></script>
<script src="script.js" defer></script>

<!-- ุณูุฑุจุช ุงูุชุทุจูู ุงูุฃุณุงุณู -->
<script src="script.js" defer></script>
</head>
<body>

  <!-- Splash -->
  <div id="splash" class="splash" role="dialog" aria-modal="true">
    <div class="splash-card">
      <h1 class="splash-title">ุฒุฎุฑูุฉ ุงูุฎุทูุท ุงูุนุฑุจูุฉ</h1>
      <p class="splash-desc">ุฃููุงู ุจู ูู ุนุงูู ุงูุฒุฎุฑูุฉ ุงูุดุงูู ูุงูุงุญุชุฑุงู ๐คฉ โ ุญููู ุงููุต ุฅูู ุชุตููู ุฌููู ุจุฎุทูุท ูุฒุฎุงุฑู ุนุฑุจูุฉ ูุจุชูุฑุฉ ๐โจ</p>
      <div class="splash-actions">
        <button id="splashStart" class="btn btn-primary">ุงุจุฏุฃ ุงูุขู</button>
        <button id="splashAdmin" class="btn btn-ghost">ููุญุฉ ุงูุชุญูู</button>
      </div>
      <small class="splash-note">ุชุฎุชูู ุชููุงุฆููุง ุจุนุฏ 6 ุซูุงูู</small>
    </div>
  </div>

  <!-- Topbar -->
  <header class="topbar" role="banner">
    <button id="toggleSidebar" class="icon-btn" aria-label="ูุงุฆูุฉ">โฐ</button>
    <div class="app-title">ุฒุฎุฑูุฉ ุงูุฎุทูุท ุงูุนุฑุจูุฉ</div>
    <button id="openAdmin" class="icon-btn" aria-label="ููุญุฉ ุงูุชุญูู">โ๏ธ</button>
  </header>

  <!-- Sidebar -->
  <aside id="sidebar" class="sidebar" aria-hidden="true">
    <div class="sidebar-header">
      <div class="sidebar-title">ุงููุงุฆูุฉ</div>
      <button id="closeSidebar" class="close-x" aria-label="ุฅุบูุงู">โ</button>
    </div>

    <nav class="sidebar-nav" aria-label="ุฃูุณุงู ุงูุชุทุจูู">
      <a href="#arabicFontsSection">ุงูุฎุทูุท ุงูุนุฑุจูุฉ</a>
      <a href="#nameStylesSection">ุฒุฎุฑูุฉ ุงูุฃุณูุงุก</a>
      <a href="#aboutSection">ุญูู ุงูุชุทุจูู</a>
    </nav>

    <div class="sidebar-footer small">ูุชูุงูู ูุน ุงูุฌูุงู โข ูุญููุธ ูุญููุงู</div>
  </aside>

  <!-- Admin Modal (ููุญุฉ ุงูุชุญูู) -->
  <div id="adminModal" class="modal" aria-hidden="true" role="dialog" aria-labelledby="adminTitle">
    <div class="modal-card" role="document">
      <button id="closeAdmin" class="close-x" aria-label="ุฅุบูุงู">โ</button>

      <!-- login (opaque) -->
      <div id="adminLogin" class="admin-login solid-box">
        <h2 id="adminTitle">ููุญุฉ ุงูุชุญูู</h2>
        <p class="muted">ุฃุฏุฎู ูููุฉ ุงููุฑูุฑ ูููุตูู ูุฅุนุฏุงุฏุงุช ุงูุชุทุจูู</p>
        <input id="adminPass" type="password" placeholder="ูููุฉ ุงููุฑูุฑ" aria-label="ูููุฉ ุงููุฑูุฑ" />
        <div class="row">
          <button id="adminLoginBtn" class="btn btn-primary">ุฏุฎูู</button>
          <button id="adminCancelBtn" class="btn btn-ghost">ุฅูุบุงุก</button>
        </div>
      </div>

      <!-- panel (after login) -->
      <div id="adminPanel" class="admin-panel solid-box" style="display:none;">
        <div style="display:flex;align-items:center;justify-content:space-between">
          <h3>ุฅุนุฏุงุฏุงุช ุงูุชุทุจูู</h3>
          <div>
            <button id="adminLogout" class="btn btn-ghost" title="ุฎุฑูุฌ" style="display:none;margin-left:8px">ุฎุฑูุฌ</button>
          </div>
        </div>

        <!-- Accordion section template -->
        <section class="admin-section">
          <button class="admin-toggle">ุฎุท ุงูุชุทุจูู</button>
          <div class="admin-body">
            <label for="appFontSelect">ุงุฎุชุฑ ุฎุท ุงูุชุทุจูู</label>
            <select id="appFontSelect"></select>
          </div>
        </section>

        <section class="admin-section">
          <button class="admin-toggle">ุฃููุงู ุงูุชุฏุฑุฌ</button>
          <div class="admin-body">
            <label>ุงุฎุชุฑ ุฃู ุนุฏูู ุชุฏุฑุฌ</label>
            <div class="row">
              <label>ููู 1: <input id="gradColor1" type="color" value="#5b21b6"></label>
              <label>ููู 2: <input id="gradColor2" type="color" value="#2563eb"></label>
              <label>ููู 3: <input id="gradColor3" type="color" value="#10b981"></label>
            </div>
            <div class="row">
              <label>ููุน ุงูุชุฏุฑุฌ:
                <select id="gradType">
                  <option value="linear-135">Linear 135ยฐ</option>
                  <option value="linear-90">Linear 90ยฐ</option>
                  <option value="linear-45">Linear 45ยฐ</option>
                  <option value="radial">Radial</option>
                  <option value="conic">Conic</option>
                </select>
              </label>
              <button id="applyGradientBtn" class="btn btn-primary">ุชุทุจูู</button>
              <button id="saveGradientBtn" class="btn btn-success">ุญูุธ</button>
            </div>
            <div id="gradPreview" class="preview small">ูุนุงููุฉ ุงูุชุฏุฑุฌ</div>
          </div>
        </section>

        <section class="admin-section">
          <button class="admin-toggle">ุงูุฎูููุงุช</button>
          <div class="admin-body">
            <label>ุฎูููุฉ ุฑุฆูุณูุฉ (ููู HEX ุฃู ุฑุงุจุท)</label>
            <input id="bgMain" placeholder="#ffffff ุฃู https://..." />
            <div class="row">
              <button id="applyBgMain" class="btn btn-primary">ุชุทุจูู</button>
              <button id="clearBgMain" class="btn btn-ghost">ุฅูุบุงุก</button>
            </div>

            <label style="margin-top:10px">ุฎูููุฉ ูุณู ุงูุฎุทูุท</label>
            <input id="bgFonts" placeholder="#fff ุฃู ุฑุงุจุท ุตูุฑุฉ" />
            <div class="row">
              <button id="applyBgFonts" class="btn btn-primary">ุชุทุจูู</button>
            </div>

            <label style="margin-top:10px">ุฎูููุฉ ูุณู ุงูุฒุฎุงุฑู</label>
            <input id="bgStyles" placeholder="#fff ุฃู ุฑุงุจุท ุตูุฑุฉ" />
            <div class="row">
              <button id="applyBgStyles" class="btn btn-primary">ุชุทุจูู</button>
            </div>
          </div>
        </section>

        <section class="admin-section">
          <button class="admin-toggle">ุงูุฎุทูุท (ุฅุถุงูุฉ/ุฑูุน)</button>
          <div class="admin-body">
            <label>ุฅุถุงูุฉ ุฎุท ุนุจุฑ ุฑุงุจุท (Google Fonts ุฃู CSS/woff2)</label>
            <input id="newFontName" placeholder="ุงุณู ุงูุฎุท" />
            <input id="newFontUrl" placeholder="ุฑุงุจุท ุงูุฎุท (ุงุฎุชูุงุฑู)" />
            <div class="row">
              <button id="addFontBtn" class="btn btn-primary">ุฅุถุงูุฉ ุฎุท</button>
              <label class="file-btn">ุฑูุน ููู ุฎุท
                <input id="uploadFontFile" type="file" accept=".ttf,.otf,.woff,.woff2" />
              </label>
            </div>
            <div id="adminFontsList" class="admin-list" aria-live="polite"></div>
          </div>
        </section>

        <section class="admin-section">
          <button class="admin-toggle">ุณุชุงููุงุช ุงูุชูุจูุณ (ุตูุฑ)</button>
          <div class="admin-body">
            <label>ุฃุถู ุตูุฑุฉ ููุชูุจูุณ (ุณุชุธูุฑ ูุฎูุงุฑ ูุชูุจูุณ ุงููุต)</label>
            <div class="row">
              <label class="file-btn">ุฑูุน ุตูุฑุฉ
                <input id="uploadTilbisFile" type="file" accept="image/*" />
              </label>
              <input id="tilbisTitle" placeholder="ุนููุงู ุงูุชูุจูุณ (ูุซูุงู: ุฐูุจู ูุฑูุฑ)" />
              <button id="addTilbisBtn" class="btn btn-primary">ุฅุถุงูุฉ</button>
            </div>
            <div id="tilbisList" class="admin-list" aria-live="polite"></div>
          </div>
        </section>

        <section class="admin-section">
          <button class="admin-toggle">ุณุชุงููุงุช ุงูุฒุฎุฑูุฉ (ุฅุถุงูุฉ/ุฑูุน)</button>
          <div class="admin-body">
            <label>ุฅุถุงูุฉ ุณุชุงูู ุฒุฎุฑูุฉ (ุงุณุชุฎุฏู {txt})</label>
            <input id="newStyleName" placeholder="ุงุณู ุงูุณุชุงูู" />
            <input id="newStylePattern" placeholder="ูุซุงู: โ {txt} โ" />
            <div class="row">
              <button id="addStyleBtn" class="btn btn-primary">ุฅุถุงูุฉ ุณุชุงูู</button>
              <label class="file-btn">ุฑูุน ููู ุณุชุงููุงุช
                <input id="uploadStyleFile" type="file" accept=".txt,.json" />
              </label>
            </div>
            <div id="adminStylesList" class="admin-list" aria-live="polite"></div>
          </div>
        </section>

        <section class="admin-section">
          <button class="admin-toggle">ุญูู ุงูุชุทุจูู (ุตูุฑุฉ + ุฑุงุจุท)</button>
          <div class="admin-body">
            <label>ุฑุงุจุท ุนูุฏ ุงูุถุบุท ุนูู ุตูุฑุฉ ูุณู "ุญูู ุงูุชุทุจูู"</label>
            <input id="aboutLink" placeholder="https://..." />
            <label style="margin-top:8px">ุฃู ุงุฑูุน ุตูุฑุฉ (ุณุชุธูุฑ ุจุงุณู "ุงูุชูุงุตู ูุนูุง")</label>
            <div class="row">
              <label class="file-btn">ุฑูุน ุตูุฑุฉ
                <input id="aboutImageFile" type="file" accept="image/*" />
              </label>
              <button id="applyAboutBtn" class="btn btn-primary">ุชุทุจูู</button>
            </div>
          </div>
        </section>

        <div class="row" style="margin-top:12px">
          <button id="saveSettings" class="btn btn-success">ุญูุธ ุงูุฅุนุฏุงุฏุงุช</button>
          <button id="resetSettings" class="btn btn-ghost">ุงุณุชุนุงุฏุฉ ุงูุงูุชุฑุงุถู</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Main sections -->
  <main class="main">

    <!-- Arabic Fonts Section -->
    <section id="arabicFontsSection" class="card section">
      <h2>ุงูุฎุทูุท ุงูุนุฑุจูุฉ</h2>

      <div class="controls">
        <input id="inputText" placeholder="ุงูุชุจ ุงููุต ููุง..." />
        <label>ุงุฎุชุฑ ุฎุท:
          <select id="fontSelector"></select>
        </label>

        <div class="inline">
          <label>ุงูููู: <input id="fontColor" type="color" value="#111111" /></label>
          <label><input id="useGradient" type="checkbox" /> ุงุณุชุฎุฏู ุชุฏุฑุฌ ูููู</label>
        </div>

        <div class="row">
          <label>ุทุฑููุฉ ุงูุชูููู:</label>
          <select id="colorMode">
            <option value="solid">ุซุงุจุช</option>
            <option value="gradient">ุชุฏุฑุฌ</option>
            <option value="tilbis">ุชูุจูุณ (ุตูุฑุฉ)</option>
          </select>
        </div>

        <!-- gradient & tilbis options -->
        <div id="gradientControls" class="admin-list" style="margin-top:8px">
          <div id="presetGradients"></div>
        </div>

        <div id="tilbisControls" class="admin-list" style="margin-top:8px;display:none">
          <div id="tilbisThumbnails"></div>
        </div>

        <div class="row" style="margin-top:8px">
          <button id="saveImage" class="btn btn-primary">ุญูุธ ูุตูุฑุฉ</button>
          <button id="clearText" class="btn btn-ghost">ูุณุญ ุงููุต</button>
        </div>
      </div>

      <div id="previewFont" class="preview large">ุงููุนุงููุฉ ุณุชุธูุฑ ููุง</div>
    </section>

    <!-- Name Styles Section -->
    <section id="nameStylesSection" class="card section">
      <h2>ุฒุฎุฑูุฉ ุงูุฃุณูุงุก</h2>

      <div class="controls">
        <input id="nameInput" placeholder="ุงูุชุจ ุงูุงุณู..." />
        <label>ุงุฎุชุฑ ุณุชุงูู:
          <select id="styleSelector"></select>
        </label>

        <div class="row">
          <button id="copyResult" class="btn btn-primary">ูุณุฎ</button>
          <button id="longPressHint" class="btn btn-ghost">ุงุถุบุท ูุทูููุงู ูููุณุฎ</button>
        </div>
      </div>

      <div id="stylePreview" class="preview medium">ุงููุนุงููุฉ ุณุชุธูุฑ ููุง</div>

      <!-- ูุชุงุฆุฌ ุงูุฒุฎุงุฑู ูุจุทุงูุงุช (ูู ูุญุฏุฉ ูุงุจูุฉ ูููุณุฎ ูููุฑุฏุฉ) -->
      <div id="decorResults" class="decor-cards" aria-live="polite"></div>
    </section>

    <!-- About -->
    <section id="aboutSection" class="card section">
      <h2>ุญูู ุงูุชุทุจูู</h2>
      <p>ุชุทุจูู ุฎููู ูุนุฑุถ ุฎุทูุท ุนุฑุจูุฉ ุดููุฑุฉุ ุฅุถุงูุฉ ุฎุทูุท ูุณุชุงููุงุช ุฒุฎุฑูุฉุ ูุญูุธ ุงููุนุงููุงุช ูุตูุฑ โ ููุตููู ููุนูู ุนูู ุงูุฌูุงู ูุงูููุจ.</p>
      <div id="aboutMedia" style="margin-top:10px">
        <!-- image (if set) will be injected here -->
      </div>
    </section>
  </main>

  <!-- small popups (reused) -->
  <div id="popupBgMain" class="popup" aria-hidden="true">
    <div class="popup-card">
      <h4>ุชุบููุฑ ุงูุฎูููุฉ ุงูุฑุฆูุณูุฉ</h4>
      <input id="popupBgMainInput" placeholder="#ffffff ุฃู ุฑุงุจุท ุตูุฑุฉ" />
      <div class="row">
        <button id="popupBgMainApply" class="btn btn-primary">ุชุทุจูู</button>
        <button id="popupBgMainClose" class="btn btn-ghost">ุฅูุบุงุก</button>
      </div>
    </div>
  </div>
</body>
  </html>


